---
date: 2018-08-10
title: Injections
categories:
  - security
description:
type: Document
set: security
set_order: 7
---

## General information

Injection attacks refer to a broad class of attack vectors that allow an attacker to supply untrusted input to a program,
which gets processed by an interpreter as part of a command or query which alters the course of execution of that program. Injection
attacks are amongst the oldest and most dangerous web application attacks.

## SQL injection

SQL Injection is one of the most dangerous vulnerabilities a web application can be prone to. When a userâ€™s input is being
passed unvalidated and unsanitzed as part of an SQL query that means that the user can manipulate the query itself and force
it to return different data than what it was supposed to return.

SQL Injection attacks can be divided into the following three classes:
* Inband: data is extracted using the same channel that is used to inject the SQL code. This is the most straightforward kind of attack, in which the retrieved data is presented directly in the application web page.
* Out-of-band: data is retrieved using a different channel (e.g., an email with the results of the query is generated and sent to the tester).
* Inferential or Blind: there is no actual transfer of data, but the tester is able to reconstruct the information by sending particular requests and observing the resulting behavior of the DB Server.

A successful SQL Injection attack requires the attacker to craft a syntactically correct SQL Query. If the application returns an error message generated by an incorrect query, then it may be easier for an attacker 
to reconstruct the logic of the original query and, therefore, understand how to perform the injection correctly. However, if the application hides the error details, then the tester must be able to reverse engineer the logic of the original query.

## Basic examples

Quite good article with lot of examples you can find [here](https://www.veracode.com/security/sql-injection).
Let's briefly consider hands-on example. Imagine that you have simple login form with several fields and submit button. Assume that it looks like below:
```
<form action="/add_user.php">
  Login: <input type="text"><br>
  Password: <input type="password"><br>
  <input type="submit" value="Submit">
</form>
```

And on the server side you have next logic:

```
$sql = "SELECT * FROM Users WHERE email = $user_login AND password = $user_password";
$result = $conn->query($sql);
```

In this case hacker will be able to inject something like `'dude' OR email LIKE '%admin%' OR email='something'` into login
field, anything into password field and get access to admin account.

## What's next?

Here are some useful links to expand your knowledge:
* Extended info about vulnerability is listed on [OWASP article](https://www.owasp.org/index.php/Testing_for_SQL_Injection_(OTG-INPVAL-005));
* Good explanation of this attack including examples you can find [here](https://www.acunetix.com/blog/articles/exploiting-sql-injection-example/); 
* [Extended info](http://phpsecurity.readthedocs.io/en/latest/Injection-Attacks.html) about different types of injections. 
* You can practise your skills on [juice-shop](https://github.com/bkimminich/juice-shop) app.
